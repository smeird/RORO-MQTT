<config>
  <mqtt>
    <broker>mqtt://10.0.0.5:1883</broker>
    <client_id>mqtt-universalror-1</client_id>
    <username>roof</username>
    <password>secret</password>
    <qos>1</qos>
    <retain_commands>false</retain_commands>
    <topic_prefix>observatory</topic_prefix>
  </mqtt>
  <io_binding>HYBRID</io_binding>
  <topics>
    <in>
      <limit_open>observatory/roof/limit/open</limit_open>
      <limit_closed>observatory/roof/limit/closed</limit_closed>
      <scope_parked>observatory/scope/parked</scope_parked>
      <weather_rain>observatory/weather/rain</weather_rain>
      <cloud_temp>observatory/weather/cloud_temp</cloud_temp>
      <wind_speed>observatory/weather/wind</wind_speed>
      <estop>observatory/power/estop</estop>
    </in>
    <out>
      <open>observatory/roof/cmd/open</open>
      <close>observatory/roof/cmd/close</close>
      <stop>observatory/roof/cmd/stop</stop>
      <enable>observatory/power/roof_enable</enable>
    </out>
  </topics>
  <policy>
    <cloud_temp_clear_c>-15.0</cloud_temp_clear_c>
    <wind_close_threshold_mps>12.0</wind_close_threshold_mps>
    <auto_close_on_weather>true</auto_close_on_weather>
    <manual_override_secs>900</manual_override_secs>
    <allow_open_when_scope_unparked>false</allow_open_when_scope_unparked>
    <auto_park_mount>true</auto_park_mount>
  </policy>
  <timeouts_ms>
    <open>90000</open>
    <close>90000</close>
    <mount_park>180000</mount_park>
    <debounce>150</debounce>
  </timeouts_ms>
</config>
